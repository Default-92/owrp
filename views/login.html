<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="/css/log.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="login-container">
        <h1>Login</h1>
        <form action="/login" method="post">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
            <button type="submit">Login</button>
        </form>
    </div>
      <nav class="sidebar">
          <div class="sidebar-text">
              <p><i class="fas fa-bars"></i> Main menu</p>
          </div>
          <ul>
              <li class="first-item"><a href="/"><i class="fas fa-home"></i><span>Home</span></a></li>
              <li><a href="/info"><i class="fas fa-info-circle"></i><span>Info</span></a></li>
              <li><a href="/grafana"><i class="fas fa-chart-line"></i><span>Grafana</span></a></li>
              <li><a href="/incidents"><i class="fas fa-exclamation-triangle"></i><span>Incidents</span></a></li>
              <li><a href="/spectralnet"><i class="fas fa-network-wired"></i><span>Spectralnet error</span></a></li>
              <li><a href="/buc"><i class="fas fa-bug"></i><span>BUC error</span></a></li>
              <li><a href="/network"><i class="fas fa-wifi"></i><span>Network outage</span></a></li>
              <li><a href="/anomalies"><i class="fas fa-ticket-alt"></i><span>Ticket / Anomaly handling</span></a></li>
              <li><a href="/procedures"><i class="fas fa-book"></i><span>Procedures</span></a></li>
              <li><a href="/form"><i class="fas fa-chalkboard-teacher"></i><span>Service Manager</span></a></li>
              <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            // Check if the user is logged in
                            fetch('/api/check-login-status')
                                .then(response => response.json())
                                .then(data => {
                                    if (!data.isLoggedIn) {
                                        document.getElementById('logout-button').style.display = 'none';
                                    }
                                })
                                .catch(error => console.error('Error checking login status:', error));
                        });
              </script>            
              <li><a href="/logout" id="logout-button" class="logout-button">Logout</a></li>
          </ul>
      </nav>
</body>
</html>
